<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Editar Cliente - Admin PetEats</title>
    <link rel="stylesheet" href="../../css/style.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div id="header-placeholder"></div>

    <main class="admin-content">
        <section class="content">
            <h2>Editar Cliente #<span id="clienteId"></span></h2>

            <form id="editarClienteForm">
                <label>Nombre</label>
                <input type="text" name="CLI_NOMBRE" required />

                <label>Apellido</label>
                <input type="text" name="CLI_APELLIDO" required />

                <label>Teléfono</label>
                <input type="text" name="CLI_TELEFONO" required />

                <label>Estado</label>
                <select name="CLI_ESTADO" required>
                    <option value="ACT">Activo</option>
                    <option value="INA">Inactivo</option>
                </select>

                <button type="submit" class="btn-crear">Actualizar</button>
            </form>
        </section>
    </main>

    <div id="footer-placeholder"></div>

    <script src="../../js/clientes.js"></script>
    <script>
    const clienteId = new URLSearchParams(window.location.search).get('id');
    document.getElementById('clienteId').textContent = clienteId;

    // Cargar datos del cliente
    cargarClientePorId(clienteId);

    // Enviar formulario de edición
    document.getElementById("editarClienteForm").addEventListener("submit", function (e) {
      e.preventDefault();

      const form = e.target;
      const cliente = {
        CLI_NOMBRE: form.CLI_NOMBRE.value,
        CLI_APELLIDO: form.CLI_APELLIDO.value,
        CLI_TELEFONO: form.CLI_TELEFONO.value,
        CLI_ESTADO: form.CLI_ESTADO.value
      };

      editarCliente(clienteId, cliente);
    });
  </script>
    
    <script src="../../js/layout.js"></script>

</body>
</html>
